<section class="content">
   <div class="content-block">
      <div class="block-header">
         <!-- breadcrumb -->
         <app-breadcrumb [title]="'Dashboard'" [items]="['BMI']" [active_item]="'Add BMI'"></app-breadcrumb>
      </div>
      <!-- Widgets -->
      <div class="row clearfix">
         <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
            <div class="card">
               <div class="body">
                  <div class="">
                     <div class="header">
                        <h2 class="mb-4"><strong>Calculate BMI</strong></h2>
                     </div>
                     <div class="body input row">
                        <div class="col-lg-6 col-sm-12 ">
                           <label>Height in cm</label>
                           <input [(ngModel)]="cmValue" type="number" placeholder="Please Enter Your  Height"
                              class="form-control form-control-lg bcm" ngModel required autocomplete="off">
                        </div>
                        <div class="col-lg-6 col-sm-12">
                           <label>Weight in kg</label>
                           <input [(ngModel)]="kgValue" type="number" placeholder="Please Enter Your Weight"
                              class="form-control form-control-lg kg" ngModel required autocomplete="off">
                        </div>
                        <div class="col-lg-6 col-sm-12">
                           <mat-form-field class="example-full-width mb-3" appearance="outline">
                              <mat-label>Recorded date</mat-label>
                              <input matInput [matDatepicker]="picker" placeholder="dd/mm/yyyy" 
                               [max]="maxDate"  autocomplete="off" [(ngModel)]="bmi_cal_date" ngModel>
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker></mat-datepicker>
                            
                            </mat-form-field>
                           <!-- <mat-form-field class="example-full-width mb-3" appearance="standard">
                              <mat-label>Recorded date and time</mat-label>
                              
                              <input matInput type="datetime-local" [(ngModel)]="bmi_cal_date" ngModel required
                                 max="{{maxDate}}">
                           </mat-form-field> -->
                        </div>
                        <div *ngIf="required_message" class="text-danger">
                           All Field is required.
                        </div>
                     </div>

                     <div class="body look result">
                        <button class="btn-space" type="button" mat-raised-button color="primary"
                           (click)="addResult($event)">Calculate BMI</button>
                     </div>
                     <section class="section text-center col-lg-8 col-sm-12 m-auto">
                        <h5 class="recordTitle mt-4 ">BMI result</h5>
                        <div class="container2">
                           <div *ngIf="bmiList.length>=1">
                              <ul class="mt-3 bmi-ul d-flex justify-content-evenly">
                                 <li><b>BMI: </b> <span> {{ bmiValue | number : '.2-2'}}</span></li>
                                 <li><b>Height CM: </b> <span> {{cmValue}} cm</span></li>
                                 <li><b>Weight KG: </b> <span> {{kgValue}} kg</span></li>
                              </ul>

                           </div>

                        </div>
                        <ul class="bmiList ">
                           <li *ngFor="let list of bmiList ; let i=index">
                              <div class="list py-2 my-2 rounded col-white" class="{{list.color}}">
                                 <span>
                                    <span>{{list.bmiLv}}</span>
                                    BMI: {{list.bmiValue.toFixed(2)}}
                                 </span>
                              </div>
                           </li>
                        </ul>
                        <div>
                           <button class="btn-space btn-warning" mat-raised-button
                              (click)="deleteSelectedItems()">Clear</button>
                        </div>

                     </section>
                     <p *ngIf="error_message" class="alert alert-danger alert-dismissible">
                        <strong>{{error_message_text}} </strong>
                     </p>
                     <div class="body">
                        <div class="card-body">
                           <h5 class="mt-4 text-center">BMI list</h5>
                           <!-- Search Table code Here NGX -->

                           <div class="body table-responsive">
                              <mat-form-field class="example-full-width" appearance="outline">
                                 <mat-label>Search</mat-label>
                                 <input matInput (keyup)="applyFilter($event)" placeholder="Search" autocomplete="off">
                              </mat-form-field>
                              <table mat-table [dataSource]="dataSource3" class="w-100" matSort matSort
                                 #empTbSort="matSort">
                                 <!-- No Column -->
                                 <ng-container matColumnDef="s_no">
                                    <th mat-header-cell *matHeaderCellDef> S.No. </th>
                                    <td mat-cell *matCellDef="let element ;let i = index;"> {{i+1}} </td>
                                 </ng-container>
                                 <!-- Name Column -->
                                 <ng-container matColumnDef="BMI">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Heart Rate </th>
                                    <td mat-cell *matCellDef="let element"> {{element.BMI | number : '.2-2'}} kg/m2</td>
                                 </ng-container>
                                 <!-- Gender Column -->
                                 <ng-container matColumnDef="Height">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Height </th>
                                    <td mat-cell *matCellDef="let element"> {{element.Height}} cm</td>
                                 </ng-container>

                                 <ng-container matColumnDef="Weight">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Weight </th>
                                    <td mat-cell *matCellDef="let element"> {{element.Weight}} kg</td>
                                 </ng-container>

                                 <ng-container matColumnDef="createdate">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Recorded Date </th>
                                    <td mat-cell *matCellDef="let element" >{{ element.createdate | date:'dd/MM/yyy'}}</td>
                                    <!-- <td mat-cell *matCellDef="let element">{{ dateFormate(element.createdate) |
                                       date:'dd/MM/yyyy' }} {{element.createdate.substring(11,19)}}</td> -->
                                 </ng-container>
                                 <!-- Email Column -->
                                 <ng-container matColumnDef="action" matSortDisabled>
                                    <th mat-header-cell *matHeaderCellDef> Action </th>
                                    <td mat-cell *matCellDef="let element">
                                       <button class="btn tblActnBtn h-auto"
                                          (click)="open(mymodal); getId(element.id);">
                                          <i class="material-icons">delete</i>
                                       </button>

                                    </td>
                                 </ng-container>
                                 <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                 <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                              </table>
                              <mat-paginator [pageSizeOptions]="[10, 20, 25]" showFirstLastButtons></mat-paginator>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- <button class="btn btn-lg btn-outline-primary" (click)="open(mymodal)" (click)="getId(8)">Open My Modal</button> -->

   <ng-template #mymodal let-modal>
      <div class="modal-header">
         <h4 class="modal-title" id="modal-basic-title">Delete Confirmation</h4>
         <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">Ã—</span>
    </button> -->
      </div>
      <div class="modal-body">
         Are You sure you want to delete?
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-outline-dark"
            (click)="modal.close('Save click'); deleteRecord()">Ok</button>

         <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Cancel</button>
      </div>
   </ng-template>
</section>